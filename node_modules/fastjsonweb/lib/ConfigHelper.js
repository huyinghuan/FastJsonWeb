var fs =  require("fs");
var path = require("path");
var MODULESNAME = "fastjsonweb";

var ConfigHelper = function(){};

Object.defineProperty(ConfigHelper,"getModulesPath",{
	value:function(){
		return path.join(process.cwd(),"node_modules",MODULESNAME,"lib");
	}
});


Object.defineProperty(ConfigHelper,"getAssetsPath",{
	value:function(assets){
		return assets ? path.join(ConfigHelper.getModulesPath(),"assets",assets) : path.join(ConfigHelper.getModulesPath(),"assets") ;
	}
});

Object.defineProperty(ConfigHelper,"getLogConfig",{
	value: function(key){
		var configureContent = fs.readFileSync(ConfigHelper.getAssetsPath("DefaultConfigure.json"),{encoding:"utf-8"});
	  	var LogConfigure = JSON.parse(configureContent).log;
	  	if(typeof key === "undefined")
	  		return LogConfigure;
	  	return LogConfigure[key];
	}
});

module.exports = ConfigHelper;