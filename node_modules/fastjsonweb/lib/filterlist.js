var list = [
  require("./filters/dealwithSession")
];
var listLength =  list.length;


function loop(flag,req,resp,fn){
    if(flag < 0)
      return fn;
    if(flag === 0){
       return function(){
          list[listLength-1].deal(req,resp,fn);
       }
    }
    return function(){
         list[listLength -1 -flag].deal(req,resp,loop(flag-1,req,resp,fn));     
      }
}

exports.filterlist = function(request,response,fn){
  list[0].deal(request,response,loop(listLength-2,request,response,fn));
}
