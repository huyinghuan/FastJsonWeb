var setting = require('./globelsetting').setting;
exports.ViewEngine = function(){
  this.viewEngine = setting.viewEngine;
  this.render = function(str,options){
    if(this.viewEngine.name === "ejs"){
      return this.viewEngine.engine.render(str,options);
    }
    if(this.viewEngine.name === "jade"){
       var fn = this.viewEngine.engine.compile(str);
       return fn(options);
    }
    throw  new Error("View Engine '"+this.viewEngine.name+"' isn't exists!");
  }
  this.getViewEngineSuffix = function(){
    return this.viewEngine.suffix;
  },
  this.getViewEngineViewPath = function(){
    return this.viewEngine.path;
  }

}
